



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Project documentation with Markdown.">
      
      
        <link rel="canonical" href="https://dengking.github.io/Linux-OS/Kernel/Book-Understanding-the-Linux-Kernel/Chapter-3-Processes/3.2.4-How-Processes-Are-Organized/">
      
      
        <meta name="author" content="DengKing">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>3.2.4 How Processes Are Organized - Linux-OS</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/application.1b62728e.css">
      
      
    
    
      <script src="../../../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../../css/extra.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-27795084-5", "mkdocs.org")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#324-how-processes-are-organized" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://dengking.github.io/Linux-OS" title="Linux-OS" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Linux-OS
            </span>
            <span class="md-header-nav__topic">
              
                3.2.4 How Processes Are Organized
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/dengking/Linux-OS" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://dengking.github.io/Linux-OS" title="Linux-OS" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Linux-OS
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/dengking/Linux-OS" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../Operating-system/" title="Operating-system-概述" class="md-nav__link">
      Operating-system-概述
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../Unix-standardization-and-implementation/" title="Unix-standardization-and-implementation" class="md-nav__link">
      Unix-standardization-and-implementation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../Unix-&-Unix-like-&-Linux/" title="Unix-&-Unix-like-&-Linux" class="md-nav__link">
      Unix-&-Unix-like-&-Linux
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Architecture
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Architecture
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Architecture/Architecture-of-computing-system/" title="Architecture-of-computing-system" class="md-nav__link">
      Architecture-of-computing-system
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Kernel
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Kernel
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Kernel(operating-system)/" title="Kernel" class="md-nav__link">
      Kernel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3">
    
    <label class="md-nav__link" for="nav-6-3">
      Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3-1" type="checkbox" id="nav-6-3-1">
    
    <label class="md-nav__link" for="nav-6-3-1">
      Linux-OS's-interaction-with-the-hardware
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-3-1">
        Linux-OS's-interaction-with-the-hardware
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Linux-OS's-interaction-with-the-hardware/Linux-OS-kernel-is-event-driven/" title="Linux-OS-kernel-is-event-driven" class="md-nav__link">
      Linux-OS-kernel-is-event-driven
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Linux-OS's-interaction-with-the-hardware/Kernel-control-path-and-reentrant-kernel/" title="Kernel-control-path-and-reentrant-kernel" class="md-nav__link">
      Kernel-control-path-and-reentrant-kernel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Linux-OS's-interaction-with-the-hardware/Control-path-&-Context-&-Context-switch/" title="Control-path-&-Context-&-Context-switch" class="md-nav__link">
      Control-path-&-Context-&-Context-switch
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3-2" type="checkbox" id="nav-6-3-2">
    
    <label class="md-nav__link" for="nav-6-3-2">
      Linux-OS's-multitasking
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-3-2">
        Linux-OS's-multitasking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Linux-OS's-multitasking/00-Multitask/" title="Multitask" class="md-nav__link">
      Multitask
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Linux-OS's-multitasking/01-Process-model/" title="Process-model" class="md-nav__link">
      Process-model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Linux-OS's-multitasking/03-01-Linux-OS-implementation-of-process-model/" title="Linux-OS-implementation-of-process-model-01" class="md-nav__link">
      Linux-OS-implementation-of-process-model-01
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Linux-OS's-multitasking/03-02-Linux-OS-implementation-of-process-model/" title="Linux-OS-implementation-of-process-model-02" class="md-nav__link">
      Linux-OS-implementation-of-process-model-02
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Linux-OS's-multitasking/03-03-Linux-OS-implementation-of-process-model/" title="Linux-OS-implementation-of-process-model-03" class="md-nav__link">
      Linux-OS-implementation-of-process-model-03
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Linux-OS's-multitasking/04-Thread/" title="Thread" class="md-nav__link">
      Thread
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3-3" type="checkbox" id="nav-6-3-3">
    
    <label class="md-nav__link" for="nav-6-3-3">
      Memory-management
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-3-3">
        Memory-management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Memory-management/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Memory-management/Memory-management/" title="Memory-management" class="md-nav__link">
      Memory-management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Memory-management/Memory-protection/" title="Memory-protection" class="md-nav__link">
      Memory-protection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Memory-management/Difference-Between-Paging-and-Segmentation-in-OS/" title="Difference-Between-Paging-and-Segmentation-in-OS" class="md-nav__link">
      Difference-Between-Paging-and-Segmentation-in-OS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3-3-5" type="checkbox" id="nav-6-3-3-5">
    
    <label class="md-nav__link" for="nav-6-3-3-5">
      Virtual-memory
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-6-3-3-5">
        Virtual-memory
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Memory-management/Virtual-memory/Virtual-memory/" title="Virtual-memory" class="md-nav__link">
      Virtual-memory
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Memory-management/Virtual-memory/Paging/" title="Paging" class="md-nav__link">
      Paging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Memory-management/Virtual-memory/Unix-system-page-size/" title="Unix-system-page-size" class="md-nav__link">
      Unix-system-page-size
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3-3-5-4" type="checkbox" id="nav-6-3-3-5-4">
    
    <label class="md-nav__link" for="nav-6-3-3-5-4">
      Virtual-address-space
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="5">
      <label class="md-nav__title" for="nav-6-3-3-5-4">
        Virtual-address-space
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Memory-management/Virtual-memory/Virtual-address-space/Virtual-address-space/" title="Virtual-address-space" class="md-nav__link">
      Virtual-address-space
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Memory-management/Virtual-memory/Virtual-address-space/Virtual-memory-address-space-thinking/" title="Virtual-memory-address-space-thinking" class="md-nav__link">
      Virtual-memory-address-space-thinking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3-3-5-4-3" type="checkbox" id="nav-6-3-3-5-4-3">
    
    <label class="md-nav__link" for="nav-6-3-3-5-4-3">
      Virtual-address-space-size
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="6">
      <label class="md-nav__title" for="nav-6-3-3-5-4-3">
        Virtual-address-space-size
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Memory-management/Virtual-memory/Virtual-address-space/Virtual-address-space-size/Unix-virtual-address-space/" title="Unix-virtual-address-space" class="md-nav__link">
      Unix-virtual-address-space
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Memory-management/Virtual-memory/Virtual-address-space/Virtual-address-space-size/Virtual-address-space-size-reading-list/" title="Virtual-address-space-size-reading-list" class="md-nav__link">
      Virtual-address-space-size-reading-list
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3-3-5-4-4" type="checkbox" id="nav-6-3-3-5-4-4">
    
    <label class="md-nav__link" for="nav-6-3-3-5-4-4">
      Layout-of-process
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="6">
      <label class="md-nav__title" for="nav-6-3-3-5-4-4">
        Layout-of-process
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Memory-management/Virtual-memory/Virtual-address-space/Layout-of-process/Memory-layout-of-a-process/" title="Memory-layout-of-a-process" class="md-nav__link">
      Memory-layout-of-a-process
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Memory-management/Virtual-memory/Virtual-address-space/Layout-of-process/Data-segment/" title="Data-segment" class="md-nav__link">
      Data-segment
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/How-to-understand-linux-kernel-source-code/" title="How-to-understand-linux-kernel-source-code" class="md-nav__link">
      How-to-understand-linux-kernel-source-code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Kernel-data-structure/" title="Kernel-data-structure" class="md-nav__link">
      Kernel-data-structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Guide/Debugger/" title="Debugger" class="md-nav__link">
      Debugger
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4" type="checkbox" id="nav-6-4">
    
    <label class="md-nav__link" for="nav-6-4">
      Book-Understanding-the-Linux-Kernel
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-4">
        Book-Understanding-the-Linux-Kernel
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4-2" type="checkbox" id="nav-6-4-2">
    
    <label class="md-nav__link" for="nav-6-4-2">
      Chapter-1-Introduction
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-4-2">
        Chapter-1-Introduction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-1-Introduction/Chapter-1-Introduction/" title="Chapter-1-Introduction" class="md-nav__link">
      Chapter-1-Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-1-Introduction/1.1-Linux-Versus-Other-Unix-Like-Kernels/" title="1.1-Linux-Versus-Other-Unix-Like-Kernels" class="md-nav__link">
      1.1-Linux-Versus-Other-Unix-Like-Kernels
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-1-Introduction/1.2-Hardware-Dependency/" title="1.2-Hardware-Dependency" class="md-nav__link">
      1.2-Hardware-Dependency
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-1-Introduction/1.4-Basic-Operating-System-Concepts/" title="1.4-Basic-Operating-System-Concepts" class="md-nav__link">
      1.4-Basic-Operating-System-Concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-1-Introduction/1.6-An-Overview-of-Unix-Kernels/" title="1.6-An-Overview-of-Unix-Kernels" class="md-nav__link">
      1.6-An-Overview-of-Unix-Kernels
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-1-Introduction/1.6.1-The-Process-Kernel-Model/" title="1.6.1-The-Process-Kernel-Model" class="md-nav__link">
      1.6.1-The-Process-Kernel-Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-1-Introduction/1.6.2-Process-Implementation/" title="1.6.2-Process-Implementation" class="md-nav__link">
      1.6.2-Process-Implementation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-1-Introduction/1.6.3-Reentrant-Kernels/" title="1.6.3-Reentrant-Kernels" class="md-nav__link">
      1.6.3-Reentrant-Kernels
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-1-Introduction/1.6.4-Process-Address-Space/" title="1.6.4-Process-Address-Space" class="md-nav__link">
      1.6.4-Process-Address-Space
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-1-Introduction/1.6.5-Synchronization-and-Critical-Regions/" title="1.6.5-Synchronization-and-Critical-Regions" class="md-nav__link">
      1.6.5-Synchronization-and-Critical-Regions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-1-Introduction/1.6.6-Signals-and-Interprocess-Communication/" title="1.6.6-Signals-and-Interprocess-Communication" class="md-nav__link">
      1.6.6-Signals-and-Interprocess-Communication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-1-Introduction/1.6.7-Process-Management/" title="1.6.7-Process-Management" class="md-nav__link">
      1.6.7-Process-Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-1-Introduction/1.6.8-Memory-Management/" title="1.6.8-Memory-Management" class="md-nav__link">
      1.6.8-Memory-Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-1-Introduction/1.6.9-Device-Drivers/" title="1.6.9-Device-Drivers" class="md-nav__link">
      1.6.9-Device-Drivers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-1-Introduction/Giant-lock/" title="Giant-lock" class="md-nav__link">
      Giant-lock
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4-3" type="checkbox" id="nav-6-4-3">
    
    <label class="md-nav__link" for="nav-6-4-3">
      Chapter-2-Memory-Addressing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-4-3">
        Chapter-2-Memory-Addressing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-2-Memory-Addressing/Chapter-2-Memory-Addressing/" title="Chapter-2-Memory-Addressing" class="md-nav__link">
      Chapter-2-Memory-Addressing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-2-Memory-Addressing/2.1-Memory-Addresses/" title="2.1-Memory-Addresses" class="md-nav__link">
      2.1-Memory-Addresses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-2-Memory-Addressing/2.4-Paging-in-Hardware/" title="2.4-Paging-in-Hardware" class="md-nav__link">
      2.4-Paging-in-Hardware
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-2-Memory-Addressing/2.5-Paging-in-Linux/" title="2.5-Paging-in-Linux" class="md-nav__link">
      2.5-Paging-in-Linux
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4-4" type="checkbox" id="nav-6-4-4">
    
    <label class="md-nav__link" for="nav-6-4-4">
      Chapter-3-Processes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-4-4">
        Chapter-3-Processes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Chapter-3-Processes/" title="Chapter-3-Processes" class="md-nav__link">
      Chapter-3-Processes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../3.1-Processes-and-Lightweight-Processes-and-Threads/" title="3.1-Processes-and-Lightweight-Processes-and-Threads" class="md-nav__link">
      3.1-Processes-and-Lightweight-Processes-and-Threads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../3.2-Process-Descriptor/" title="3.2-Process-Descriptor" class="md-nav__link">
      3.2-Process-Descriptor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../3.2.1-Process-State/" title="3.2.1-Process-State" class="md-nav__link">
      3.2.1-Process-State
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../3.2.2-Identifying-a-Process/" title="3.2.2-Identifying-a-Process" class="md-nav__link">
      3.2.2-Identifying-a-Process
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../3.2.2.1-Process-descriptors-handling/" title="3.2.2.1-Process-descriptors-handling" class="md-nav__link">
      3.2.2.1-Process-descriptors-handling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../3.2.2.2-Identifying-the-current-process/" title="3.2.2.2-Identifying-the-current-process" class="md-nav__link">
      3.2.2.2-Identifying-the-current-process
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../3.2.2.3-Doubly-linked-lists/" title="3.2.2.3-Doubly-linked-lists" class="md-nav__link">
      3.2.2.3-Doubly-linked-lists
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../3.2.2.4-The-process-list/" title="3.2.2.4-The-process-list" class="md-nav__link">
      3.2.2.4-The-process-list
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../3.2.2.5-The-lists-of-TASK_RUNNING-processes/" title="3.2.2.5-The-lists-of-TASK_RUNNING-processes" class="md-nav__link">
      3.2.2.5-The-lists-of-TASK_RUNNING-processes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../3.4-Creating-Processes/" title="3.4-Creating-Processes" class="md-nav__link">
      3.4-Creating-Processes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../wikipedia-Copy-on-write/" title="Copy-on-write" class="md-nav__link">
      Copy-on-write
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4-5" type="checkbox" id="nav-6-4-5">
    
    <label class="md-nav__link" for="nav-6-4-5">
      Chapter-4-Interrupts-and-Exceptions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-4-5">
        Chapter-4-Interrupts-and-Exceptions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-4-Interrupts-and-Exceptions/Chapter-4-Interrupts-and-Exceptions/" title="Chapter-4-Interrupts-and-Exceptions" class="md-nav__link">
      Chapter-4-Interrupts-and-Exceptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-4-Interrupts-and-Exceptions/4.1-The-Role-of-Interrupt-Signals/" title="4.1-The-Role-of-Interrupt-Signals" class="md-nav__link">
      4.1-The-Role-of-Interrupt-Signals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-4-Interrupts-and-Exceptions/4.2-Interrupts-and-Exceptions/" title="4.2-Interrupts-and-Exceptions" class="md-nav__link">
      4.2-Interrupts-and-Exceptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-4-Interrupts-and-Exceptions/4.3-Nested-Execution-of-Exception-and-Interrupt-Handlers/" title="4.3-Nested-Execution-of-Exception-and-Interrupt-Handlers" class="md-nav__link">
      4.3-Nested-Execution-of-Exception-and-Interrupt-Handlers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-4-Interrupts-and-Exceptions/4.6-Interrupt-Handling/" title="4.6-Interrupt-Handling" class="md-nav__link">
      4.6-Interrupt-Handling
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4-6" type="checkbox" id="nav-6-4-6">
    
    <label class="md-nav__link" for="nav-6-4-6">
      Chapter-6-Timing-Measurements
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-4-6">
        Chapter-6-Timing-Measurements
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-6-Timing-Measurements/Chapter-6-Timing-Measurements/" title="Chapter-6-Timing-Measurements" class="md-nav__link">
      Chapter-6-Timing-Measurements
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4-7" type="checkbox" id="nav-6-4-7">
    
    <label class="md-nav__link" for="nav-6-4-7">
      Chapter-7-Process-Scheduling
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-4-7">
        Chapter-7-Process-Scheduling
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-7-Process-Scheduling/Chapter-7-Process-Scheduling/" title="Chapter-7-Process-Scheduling" class="md-nav__link">
      Chapter-7-Process-Scheduling
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4-8" type="checkbox" id="nav-6-4-8">
    
    <label class="md-nav__link" for="nav-6-4-8">
      Chapter-8-Memory-Management
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-4-8">
        Chapter-8-Memory-Management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-8-Memory-Management/Chapter-8-Memory-Management/" title="Chapter-8-Memory-Management" class="md-nav__link">
      Chapter-8-Memory-Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-8-Memory-Management/8.1-Page-Frame-Management/" title="8.1-Page-Frame-Management" class="md-nav__link">
      8.1-Page-Frame-Management
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4-9" type="checkbox" id="nav-6-4-9">
    
    <label class="md-nav__link" for="nav-6-4-9">
      Chapter-9-Process-Address-Space
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-4-9">
        Chapter-9-Process-Address-Space
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-9-Process-Address-Space/Chapter-9-Process-Address-Space/" title="Chapter-9-Process-Address-Space" class="md-nav__link">
      Chapter-9-Process-Address-Space
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-9-Process-Address-Space/9.1-The-Process's-Address-Space/" title="9.1-The-Process's-Address-Space." class="md-nav__link">
      9.1-The-Process's-Address-Space.
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Chapter-9-Process-Address-Space/9.2-The-Memory-Descriptor/" title="9.2-The-Memory-Descriptor" class="md-nav__link">
      9.2-The-Memory-Descriptor
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Programming
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Programming
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2" type="checkbox" id="nav-7-2">
    
    <label class="md-nav__link" for="nav-7-2">
      Convention
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-2">
        Convention
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/01-01-Convention/Conventions/" title="Conventions" class="md-nav__link">
      Conventions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3" type="checkbox" id="nav-7-3">
    
    <label class="md-nav__link" for="nav-7-3">
      Lib
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-3">
        Lib
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3-1" type="checkbox" id="nav-7-3-1">
    
    <label class="md-nav__link" for="nav-7-3-1">
      GNU
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-7-3-1">
        GNU
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/01-02-Lib/organization-gnu/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3-1-2" type="checkbox" id="nav-7-3-1-2">
    
    <label class="md-nav__link" for="nav-7-3-1-2">
      Autoconf
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-7-3-1-2">
        Autoconf
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/01-02-Lib/organization-gnu/Autoconf/Autoconf/" title="Autoconf" class="md-nav__link">
      Autoconf
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3-1-3" type="checkbox" id="nav-7-3-1-3">
    
    <label class="md-nav__link" for="nav-7-3-1-3">
      Automake
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-7-3-1-3">
        Automake
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/01-02-Lib/organization-gnu/Automake/Automake/" title="Automake" class="md-nav__link">
      Automake
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3-1-4" type="checkbox" id="nav-7-3-1-4">
    
    <label class="md-nav__link" for="nav-7-3-1-4">
      Autotools-Mythbuster
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-7-3-1-4">
        Autotools-Mythbuster
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/01-02-Lib/organization-gnu/Autotools-Mythbuster/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3-2" type="checkbox" id="nav-7-3-2">
    
    <label class="md-nav__link" for="nav-7-3-2">
      POSIX
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-7-3-2">
        POSIX
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/01-02-Lib/organiztion-posix/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-4" type="checkbox" id="nav-7-4">
    
    <label class="md-nav__link" for="nav-7-4">
      Common
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-4">
        Common
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/01-03-Common/Unix-programming-time-and-space/" title="Time-and-space" class="md-nav__link">
      Time-and-space
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/01-03-Common/Unix-system-call/" title="System-call" class="md-nav__link">
      System-call
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/01-03-Common/safety/" title="Safety" class="md-nav__link">
      Safety
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/01-03-Common/Capabilities/" title="Capabilities" class="md-nav__link">
      Capabilities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/01-03-Common/Path-resolution/" title="Path-resolution" class="md-nav__link">
      Path-resolution
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-5" type="checkbox" id="nav-7-5">
    
    <label class="md-nav__link" for="nav-7-5">
      Philosophy
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-5">
        Philosophy
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/01-philosophy/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/01-philosophy/Unix-philosophy-Everything-is-a-file/" title="Unix-philosophy-everything-is-a-file" class="md-nav__link">
      Unix-philosophy-everything-is-a-file
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/01-philosophy/File-descriptor/" title="File-descriptor" class="md-nav__link">
      File-descriptor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/01-philosophy/Unix-philosophy/" title="Unix-philosophy" class="md-nav__link">
      Unix-philosophy
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-6" type="checkbox" id="nav-7-6">
    
    <label class="md-nav__link" for="nav-7-6">
      Process
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-6">
        Process
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/02-Process/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-6-2" type="checkbox" id="nav-7-6-2">
    
    <label class="md-nav__link" for="nav-7-6-2">
      IPC
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-7-6-2">
        IPC
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-6-2-1" type="checkbox" id="nav-7-6-2-1">
    
    <label class="md-nav__link" for="nav-7-6-2-1">
      System-V-IPC
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-7-6-2-1">
        System-V-IPC
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/02-Process/IPC/System-V-IPC/System-V-IPC/" title="System-V-IPC" class="md-nav__link">
      System-V-IPC
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/02-Process/IPC/POSIX-semaphores/" title="POSIX-semaphores" class="md-nav__link">
      POSIX-semaphores
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/02-Process/IPC/POSIX-message-queues/" title="POSIX-message-queues" class="md-nav__link">
      POSIX-message-queues
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-6-3" type="checkbox" id="nav-7-6-3">
    
    <label class="md-nav__link" for="nav-7-6-3">
      Thread
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-7-6-3">
        Thread
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/02-Process/Thread/pthreads/" title="pthreads" class="md-nav__link">
      pthreads
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7" type="checkbox" id="nav-7-7">
    
    <label class="md-nav__link" for="nav-7-7">
      IO
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-7">
        IO
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/03-IO/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-8" type="checkbox" id="nav-7-8">
    
    <label class="md-nav__link" for="nav-7-8">
      Time
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-8">
        Time
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/03-Time/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-9" type="checkbox" id="nav-7-9">
    
    <label class="md-nav__link" for="nav-7-9">
      Signal
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-9">
        Signal
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/04-Signal/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-10" type="checkbox" id="nav-7-10">
    
    <label class="md-nav__link" for="nav-7-10">
      Virtualization
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-10">
        Virtualization
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/05-Linux-Virtualization/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/05-Linux-Virtualization/Virtualization/" title="Virtualization" class="md-nav__link">
      Virtualization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/05-Linux-Virtualization/Linux-containers/" title="Linux-containers" class="md-nav__link">
      Linux-containers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-10-4" type="checkbox" id="nav-7-10-4">
    
    <label class="md-nav__link" for="nav-7-10-4">
      Linux-namespaces
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-7-10-4">
        Linux-namespaces
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/05-Linux-Virtualization/Linux-namespaces/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/05-Linux-Virtualization/Linux-namespaces/Linux-Namespaces/" title="Linux-Namespaces" class="md-nav__link">
      Linux-Namespaces
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/05-Linux-Virtualization/Linux-namespaces/man-7-namespaces/" title="man-7-namespaces" class="md-nav__link">
      man-7-namespaces
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-10-5" type="checkbox" id="nav-7-10-5">
    
    <label class="md-nav__link" for="nav-7-10-5">
      Linux-control-groups
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-7-10-5">
        Linux-control-groups
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/05-Linux-Virtualization/Linux-control-groups/Control-groups/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-11" type="checkbox" id="nav-7-11">
    
    <label class="md-nav__link" for="nav-7-11">
      Util
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-11">
        Util
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/06-Util/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-11-2" type="checkbox" id="nav-7-11-2">
    
    <label class="md-nav__link" for="nav-7-11-2">
      Log
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-7-11-2">
        Log
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/06-Util/Log/Linux-log-files/" title="Linux-log-files" class="md-nav__link">
      Linux-log-files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-11-2-2" type="checkbox" id="nav-7-11-2-2">
    
    <label class="md-nav__link" for="nav-7-11-2-2">
      Syslog
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-7-11-2-2">
        Syslog
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/06-Util/Log/Syslog/Syslog/" title="Syslog" class="md-nav__link">
      Syslog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-12" type="checkbox" id="nav-7-12">
    
    <label class="md-nav__link" for="nav-7-12">
      Kernel-module
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-12">
        Kernel-module
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/07-Linux-Kernel-module/Loadable-kernel-module/" title="Loadable-kernel-module" class="md-nav__link">
      Loadable-kernel-module
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-13" type="checkbox" id="nav-7-13">
    
    <label class="md-nav__link" for="nav-7-13">
      Shell
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-13">
        Shell
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-13-1" type="checkbox" id="nav-7-13-1">
    
    <label class="md-nav__link" for="nav-7-13-1">
      Dmesg
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-7-13-1">
        Dmesg
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/08-Shell/Dmesg/Dmesg/" title="Dmesg" class="md-nav__link">
      Dmesg
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/08-Shell/Dmesg/Dmesg-format/" title="Dmesg-format" class="md-nav__link">
      Dmesg-format
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/08-Shell/Dmesg/Dmesg-segfaulting/" title="Dmesg-segfaulting" class="md-nav__link">
      Dmesg-segfaulting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-13-2" type="checkbox" id="nav-7-13-2">
    
    <label class="md-nav__link" for="nav-7-13-2">
      Linux-Kernel-module
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-7-13-2">
        Linux-Kernel-module
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Programming/08-Shell/Linux-Kernel-module/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#3241-wait-queues" class="md-nav__link">
    3.2.4.1. Wait queues
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3242-handling-wait-queues" class="md-nav__link">
    3.2.4.2. Handling wait queues
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <div class="toc">
<ul>
<li><a href="#324-how-processes-are-organized">3.2.4. How Processes Are Organized</a><ul>
<li><a href="#3241-wait-queues">3.2.4.1. Wait queues</a></li>
<li><a href="#3242-handling-wait-queues">3.2.4.2. Handling wait queues</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="324-how-processes-are-organized">3.2.4. How Processes Are Organized<a class="headerlink" href="#324-how-processes-are-organized" title="Permanent link">#</a></h1>
<p>The <code>runqueue</code> lists group all processes in a  <code>TASK_RUNNING</code> state. When it comes to grouping processes
in other states, the various states call for different types of treatment, with Linux opting for one of
the choices shown in the following list.</p>
<ul>
<li>Processes in a  <code>TASK_STOPPED</code> ,  <code>EXIT_ZOMBIE</code> , or  <code>EXIT_DEAD</code> state are not linked in specific lists.
  There is no need to group processes in any of these three states, because stopped, zombie, and
  dead processes are accessed only via <code>PID</code> or via linked lists of the child processes for a
  particular parent.</li>
<li>Processes in a  <code>TASK_INTERRUPTIBLE</code> or  <code>TASK_UNINTERRUPTIBLE</code> state are subdivided into many
  classes, each of which corresponds to a specific <strong>event</strong>. In this case, the <strong>process state</strong> does not
  provide enough information to retrieve the process quickly, so it is necessary to introduce
  additional lists of processes. These are called <strong><em>wait queues</em></strong> and are discussed next.</li>
</ul>
<h2 id="3241-wait-queues">3.2.4.1. Wait queues<a class="headerlink" href="#3241-wait-queues" title="Permanent link">#</a></h2>
<p><strong>Wait queues</strong> have several uses in the kernel, particularly for <strong>interrupt handling</strong>, <strong>process
synchronization</strong>, and <strong>timing</strong>. Because these topics are discussed in later chapters, we'll just say here
that a process must often wait for some event to occur, such as for a <strong>disk operation</strong> to terminate, a
<strong>system resource</strong> to be released, or a fixed interval of time to elapse. <strong>Wait queues</strong> implement
conditional waits on events: a process wishing to wait for a specific event places itself in the proper
<strong>wait queue</strong> and relinquishes（让渡） control. Therefore, a <strong>wait queue</strong> represents a set of <strong>sleeping processes</strong>, which are woken up by the <strong>kernel</strong> when some condition becomes true.</p>
<p><strong>Wait queues</strong> are implemented as <strong>doubly linked lists</strong> whose elements include pointers to <strong>process
descriptors</strong>. Each <strong>wait queue</strong> is identified by a <strong><em>wait queue head</em></strong>, a data structure of type <a href="https://elixir.bootlin.com/linux/v2.6.11/source/include/linux/wait.h#L55"><code>wait_queue_head_t</code></a> :</p>
<pre><code class="c">
struct __wait_queue_head {
    spinlock_t lock;
    struct list_head task_list;
};
typedef struct __wait_queue_head wait_queue_head_t;
</code></pre>

<p>Because <strong>wait queues</strong> are modified by <strong>interrupt handlers</strong> as well as by major kernel functions, the
doubly linked lists must be protected from concurrent accesses, which could induce unpredictable
results (see Chapter 5). Synchronization is achieved by the  <code>lock</code> spin lock in the wait queue head.
The  <code>task_list</code> field is the head of the list of waiting processes.</p>
<p><strong><em>SUMMARY</em></strong> : 在1.6.3. Reentrant Kernels中有这样的一段描述，非常有价值：</p>
<blockquote>
<p>All Unix kernels are reentrant. This means that several processes may be executing in Kernel Mode at the same time. Of course, on uniprocessor systems, only one process can progress, but many can be blocked in Kernel Mode when waiting for the CPU or the completion of some I/O operation. For instance, after issuing a read to a disk on behalf of a process, the kernel lets the disk controller handle it and resumes executing other processes. An interrupt notifies the kernel when the device has satisfied the read, so the former process can resume the execution.</p>
</blockquote>
<p>Elements of a wait queue list are of type  <a href="https://elixir.bootlin.com/linux/v2.6.11/source/include/linux/wait.h#L29"><code>wait_queue_t</code></a> :</p>
<pre><code class="c">struct __wait_queue {
    unsigned int flags;
    struct task_struct * task;
    wait_queue_func_t func;
    struct list_head task_list;
};
typedef struct __wait_queue wait_queue_t;
</code></pre>

<p>Each element in the <strong>wait queue list</strong> represents a <strong>sleeping process</strong>, which is waiting for some event to
occur; its descriptor address is stored in the  <code>task</code> field. The  <code>task_list</code> field contains the pointers that
link this element to the list of processes waiting for the same event.</p>
<p>However, it is not always convenient to wake up <strong><em>all</em></strong> sleeping processes in a wait queue. For instance,
if two or more processes are waiting for exclusive access to some resource to be released, it makes
sense to wake up just one process in the <strong>wait queue</strong>. This process takes the resource, while the
other processes continue to sleep. (This avoids a problem known as the "<a href="https://en.wikipedia.org/wiki/Thundering_herd_problem">thundering herd</a>," with
which multiple processes are wakened only to race for a resource that can be accessed by one of
them, with the result that remaining processes must once more be put back to sleep.)</p>
<p>Thus, there are two kinds of sleeping processes: <strong><em>exclusive processes</em></strong> (denoted by the value <code>1</code> in the
<code>flags</code> field of the corresponding wait queue element) are selectively woken up by the <strong>kernel</strong>, while
<strong><em>nonexclusive processes</em></strong> (denoted by the value <code>0</code> in the  <code>flags</code> field) are always woken up by the
kernel when the event occurs. A process waiting for a resource that can be granted to just one
process at a time is a typical <strong>exclusive process</strong>. Processes waiting for an event that may concern any
of them are <strong>nonexclusive</strong>. Consider, for instance, a group of processes that are waiting for the
termination of a group of disk block transfers: as soon as the transfers complete, all waiting
processes must be woken up. As we'll see next, the  <code>func</code> field of a <strong>wait queue</strong> element is used to
specify how the processes sleeping in the wait queue should be woken up.</p>
<h2 id="3242-handling-wait-queues">3.2.4.2. Handling wait queues<a class="headerlink" href="#3242-handling-wait-queues" title="Permanent link">#</a></h2>
<p>A new wait queue head may be defined by using the  <code>DECLARE_WAIT_QUEUE_HEAD(name)</code> macro, which
statically declares a new wait queue head variable called  <code>name</code> and initializes its  <code>lock</code> and  <code>task_list</code>
fields. The  <code>init_waitqueue_head( )</code> function may be used to initialize a wait queue head variable
that was allocated dynamically.</p>
<p>The  <code>init_waitqueue_entry(q,p )</code> function initializes a  <code>wait_queue_t</code> structure  <code>q</code> as follows:</p>
<pre><code class="c">q-&gt;flags = 0;
q-&gt;task = p;
q-&gt;func = default_wake_function;
</code></pre>

<p>The nonexclusive process  <code>p</code> will be awakened by  <code>default_wake_function( )</code> , which is a simple
wrapper for the  <code>try_to_wake_up( )</code> function discussed in Chapter 7.</p>
<p>Alternatively, the  <code>DEFINE_WAIT</code> macro declares a new  <code>wait_queue_t</code> variable and initializes it with the descriptor of the process currently executing on the CPU and the address of the <code>autoremove_wake_function( )</code> wake-up function. This function invokes  <code>default_wake_function( )</code> to
awaken the sleeping process, and then removes the <strong>wait queue element</strong> from the <strong>wait queue list</strong>.
Finally, a kernel developer can define a custom awakening function by initializing the <strong>wait queue element</strong> with the  <code>init_waitqueue_func_entry( )</code> function.</p>
<p>Once an element is defined, it must be inserted into a <strong>wait queue</strong>. The  <code>add_wait_queue( )</code> function
inserts a nonexclusive process in the first position of a wait queue list. The
<code>add_wait_queue_exclusive( )</code> function inserts an exclusive process in the last position of a wait
queue list. The  <code>remove_wait_queue( )</code> function removes a process from a wait queue list. The
<code>waitqueue_active( )</code> function checks whether a given wait queue list is empty.</p>
<p>A process wishing to wait for a specific condition can invoke any of the functions shown in the
following list.</p>
<ul>
<li>The  <code>sleep_on( )</code> function operates on the current process:</li>
</ul>
<pre><code class="c">void sleep_on(wait_queue_head_t *wq)
{
    wait_queue_t wait;
    init_waitqueue_entry(&amp;wait, current);
    current-&gt;state = TASK_UNINTERRUPTIBLE;
    add_wait_queue(wq,&amp;wait); /* wq points to the wait queue head */
    schedule( );
    remove_wait_queue(wq, &amp;wait);
}
</code></pre>

<p>The function sets the state of the current process to  <code>TASK_UNINTERRUPTIBLE</code> and inserts it into
the specified wait queue. Then it invokes the scheduler, which resumes the execution of
another process. When the sleeping process is awakened, the scheduler resumes execution of
the  <code>sleep_on( )</code> function, which removes the process from the wait queue.</p>
<p><strong><em>SUMMARY</em></strong> :Wait queues implement conditional waits on events: a process wishing to wait for a specific event places itself in the proper wait queue and relinquishes control.显然，上述代码中的<code>schedule( )</code>就表示relinquishes control，显然，这就是发生在chapter 3.3中介绍的Process Switch；显然，当这个process再次被唤醒的时候，它就需要接着它上次被终止的地方继续运行，即从<code>remove_wait_queue(wq, &amp;wait);</code>开始运行。</p>
<ul>
<li>
<p>The  <code>interruptible_sleep_on( )</code> function is identical to  <code>sleep_on( )</code> , except that it sets the
  state of the current process to  <code>TASK_INTERRUPTIBLE</code> instead of setting it to
  <code>TASK_UNINTERRUPTIBLE</code> , so that the process also can be woken up by receiving a signal.</p>
</li>
<li>
<p>The  <code>sleep_on_timeout( )</code> and  <code>interruptible_sleep_on_timeout( )</code> functions are similar to the
  previous ones, but they also allow the caller to define a time interval after which the process
  will be woken up by the kernel. To do this, they invoke the  <code>schedule_timeout( )</code> function
  instead of  <code>schedule( )</code> (see the section "An Application of Dynamic Timers: the <code>nanosleep( )</code>
  System Call" in Chapter 6).</p>
</li>
<li>
<p>The  <code>prepare_to_wait( )</code> ,  <code>prepare_to_wait_exclusive( )</code> , and  <code>finish_wait( )</code> functions,
  introduced in Linux 2.6, offer yet another way to put the current process to sleep in a wait
  queue. Typically, they are used as follows:</p>
</li>
</ul>
<pre><code class="c">DEFINE_WAIT(wait);
prepare_to_wait_exclusive(&amp;wq, &amp;wait, TASK_INTERRUPTIBLE);
/* wq is the head of the wait queue */
...
if (!condition)
    schedule();
finish_wait(&amp;wq, &amp;wait);
</code></pre>

<p>The  <code>prepare_to_wait( )</code> and  <code>prepare_to_wait_exclusive( )</code> functions set the <strong>process state</strong> to
the value passed as the third parameter, then set the exclusive flag in the wait queue element
respectively to 0 (nonexclusive) or 1 (exclusive), and finally insert the wait queue element  <code>wait</code> into the list of the wait queue head  <code>wq</code> .</p>
<p>As soon as the process is awakened, it executes the  <code>finish_wait( )</code> function, which sets again
the process state to  <code>TASK_RUNNING</code> (just in case the awaking condition becomes true before
invoking  <code>schedule( )</code> ), and removes the wait queue element from the wait queue list (unless
this has already been done by the wake-up function).</p>
<ul>
<li>The  <code>wait_event</code> and  <code>wait_event_interruptible</code> macros put the calling process to sleep on a
  wait queue until a given condition is verified. For instance, the  <code>wait_event(wq,condition)</code>
  macro essentially yields the following fragment:</li>
</ul>
<pre><code class="c">DEFINE_WAIT(_ _wait);
for (;;) {
    prepare_to_wait(&amp;wq, &amp;_ _wait, TASK_UNINTERRUPTIBLE);
    if (condition)
        break;
    schedule( );
}
finish_wait(&amp;wq, &amp;_ _wait);
</code></pre>

<p><strong><em>SUMMARY</em></strong> : 阻塞的系统调用也会导致kernel进行schedule。</p>
<p><strong><em>SUMMARY</em></strong> : 为什么要加上<code>for</code>？</p>
<p>A few comments on the functions mentioned in the above list: the  <code>sleep_on( )</code>-like functions cannot be used in the common situation where one has to test a condition and atomically put the process to sleep when the condition is not verified; therefore, because they are a well-known source of race conditions, their use is discouraged（<a href="https://en.wikipedia.org/wiki/Time-of-check_to_time-of-use">Time-of-check to time-of-use</a>）. Moreover, in order to insert an <strong>exclusive process</strong> into a <strong>wait queue</strong>, the kernel must make use of the  <code>prepare_to_wait_exclusive( )</code> function (or just invoke <code>add_wait_queue_exclusive( )</code> directly); any other helper function inserts the process as nonexclusive. Finally, unless  <code>DEFINE_WAIT</code> or  <code>finish_wait( )</code> are used, the kernel must remove the wait queue element from the list after the waiting process has been awakened.</p>
<p>The kernel <strong>awakens</strong> processes in the <strong>wait queues</strong>, putting them in the  <code>TASK_RUNNING</code> state, by means
of one of the following macros:  <code>wake_up</code> ,  <code>wake_up_nr</code> ,  <code>wake_up_all</code> ,  <code>wake_up_interruptible</code> , <code>wake_up_interruptible_nr</code> ,  <code>wake_up_interruptible_all</code> ,  <code>wake_up_interruptible_sync</code> , and <code>wake_up_locked</code> . One can understand what each of these nine macros does from its name:</p>
<ul>
<li>All macros take into consideration sleeping processes in the  <code>TASK_INTERRUPTIBLE</code> state; if the macro name does not include the string "interruptible," sleeping processes in the <code>TASK_UNINTERRUPTIBLE</code> state also are considered.</li>
</ul>
<p><strong><em>SUMMARY</em></strong> : 没有搞清楚上面这段话的含义</p>
<ul>
<li>
<p>All macros wake all <strong>nonexclusive processes</strong> having the required state (see the previous bullet item).</p>
</li>
<li>
<p>The macros whose name include the string "<code>nr</code>" wake a given number of <strong>exclusive processes</strong> having the required state; this number is a parameter of the macro. The macros whose names include the string "<code>all</code>" wake all <strong>exclusive processes</strong> having the required state. Finally, the macros whose names don't include "<code>nr</code>" or "<code>all</code>" wake exactly one exclusive process that has the required state.</p>
</li>
<li>
<p>The macros whose names don't include the string "<code>sync</code>" check whether the priority of any of the woken processes is higher than that of the processes currently running in the systems and invoke  <code>schedule( )</code> if necessary. These checks are not made by the macro whose name includes the string "<code>sync</code>"; as a result, execution of a high priority process might be slightly delayed.</p>
</li>
<li>
<p>The  <code>wake_up_locked</code> macro is similar to  <code>wake_up</code> , except that it is called when the spin lock in <code>wait_queue_head_t</code> is already held.</p>
</li>
</ul>
<p>For instance, the  <code>wake_up</code> macro is essentially equivalent to the following code fragment:</p>
<pre><code class="c">void wake_up(wait_queue_head_t *q)
{
    struct list_head *tmp;
    wait_queue_t *curr;
    list_for_each(tmp, &amp;q-&gt;task_list) {
        curr = list_entry(tmp, wait_queue_t, task_list);
        if (curr-&gt;func(curr, TASK_INTERRUPTIBLE|TASK_UNINTERRUPTIBLE, 0, NULL) &amp;&amp; curr-&gt;flags)
            break;
    }
}
</code></pre>

<p>The  <code>list_for_each</code> macro scans all items in the  <code>q-&gt;task_list</code> doubly linked list, that is, all processes in the <strong>wait queue</strong>. For each item, the  <code>list_entry</code> macro computes the address of the corresponding <code>wait_queue_t</code> variable. The  <code>func</code> field of this variable stores the address of the wake-up function, which tries to wake up the process identified by the  <code>task</code> field of the wait queue element. If a process has been effectively awakened (the function returned 1) and if the process is exclusive ( <code>curr-&gt;flags</code> equal to 1), the loop terminates. Because all nonexclusive processes are always at the beginning of the doubly linked list and all exclusive processes are at the end, the function always wakes the nonexclusive processes and then wakes one exclusive process, if any exists. [<code>*</code>]</p>
<blockquote>
<p>[<code>*</code>] By the way, it is rather uncommon that a wait queue includes both exclusive and nonexclusive processes. </p>
</blockquote>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../../.."}})</script>
      
    
  </body>
</html>